:root{--bg:#f7f7f9;--card:#fff;--muted:#666;--accent:#2563eb;--danger:#dc2626;--btn-text:#111}
*{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial}
.body{margin:0;background:var(--bg);color:#111}
.home,.login{padding:2rem;max-width:900px;margin:2rem auto}
.btn{display:inline-block;padding:.75rem 1rem;border-radius:10px;border:1px solid #ccc;background:#fff;cursor:pointer;text-decoration:none;color:var(--btn-text);font-size:18px}
.btn.primary{background:var(--accent);color:#fff;border-color:transparent}
.btn.danger{background:var(--danger);color:#fff;border-color:transparent}

.library{max-width:1000px;margin:0.75rem auto;padding:0.75rem}
.library-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.6rem}
.library-grid{display:block}
.book-list{background:var(--card);padding:0.6rem;border-radius:10px;min-height:40vh;max-height:83.5vh;overflow:auto}
.book-list ul{list-style:none;padding:0;margin:0}
.book-list li{padding:.6rem;border-radius:6px;cursor:pointer}
.book-list li:hover{background:#f0f4ff}
.book-list li.active{background:#e6f0ff}
.book-list .title{font-weight:600}
.book-list .meta{font-size:.85rem;color:var(--muted)}
.book-detail{background:var(--card);padding:1rem;border-radius:8px;min-height:200px}

/* modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;padding:0;z-index:100}
.modal{background:var(--card);width:100%;border-radius:12px 12px 12px 12px;overflow:hidden;margin:0;min-height:50vh;max-width:40rem;padding-bottom:env(safe-area-inset-bottom)}
.modal header{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #eee}
.modal .modal-body{padding:1rem}
.modal input{width:100%;padding:.75rem;margin:.4rem 0;border:1px solid #ddd;border-radius:8px}
.modal input{width:100%;padding:.5rem;margin:.4rem 0;border:1px solid #ddd;border-radius:6px}
.modal input, input, textarea, select { font-size: 16px; }
html, body { -webkit-text-size-adjust: 100%; }
.modal .modal-actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.6rem}
.close{background:none;border:0;font-size:1.4rem;cursor:pointer}

/* small helpers */
.manual-form label{display:block;margin-top:.6rem}
button { margin-left: 0.5rem; }

/* Mobile first tweaks for small screens (iPhone 13 Pro ~ 390x844) */
@media (max-width:700px){
	.home,.login{padding:1.25rem}
	.brand{font-size:20px}
	.library-grid{padding:0}
	.book-list{padding:0.5rem;border-radius:8px;min-height:50vh;max-height:75vh}
	.book-list li{padding:0.9rem;font-size:16px}
	.book-list .meta{font-size:0.9rem}
	.book-detail{padding:1rem;border-radius:8px}
	.btn{width:100%;display:block;text-align:center}
	.library-header > div { display: flex; gap: 0.5rem }
}

/* dark mode removed; single light theme kept */

.site-header{display:flex;justify-content:space-between;align-items:center;padding:0.6rem 1rem;background:transparent}
.brand{font-weight:700}
.site-title .brand{font-size:20px; font-weight:800; color:var(--accent); text-decoration:none; cursor:pointer; display:inline-block}
.site-title .brand:hover{color:darken(var(--accent), 10%)}
.dark-toggle{display:none}

/* Shelf drawer styles */
.shelf{position:fixed;right:0;top:0;height:100vh;width:360px;background:var(--card);box-shadow:-8px 0 24px rgba(0,0,0,0.2);z-index:60;display:flex;flex-direction:column}
.shelf-header{display:flex;justify-content:space-between;align-items:center;padding:1rem;border-bottom:1px solid #eee}
.shelf-body{padding:1rem;overflow:auto}
.shelf-actions{display:flex;gap:0.5rem;margin-top:1rem}

.edit-shelf label{display:block;margin-bottom:0.6rem}
.edit-shelf input{width:100%;padding:0.6rem;border:1px solid #ddd;border-radius:8px;margin-top:0.25rem}

/* mobile: bottom sheet */
@media (max-width:700px){
	.shelf{right:0;left:0;bottom:0;top:auto;height:auto;border-radius:12px 12px 0 0;width:100%;max-height:70vh}
}

/* Add-shelf (mobile bottom sheet) */
.add-shelf{position:fixed;left:0;right:0;bottom:0;background:var(--card);z-index:70;border-radius:12px 12px 0 0;padding:1rem;min-height:33vh;max-height:75vh;overflow:auto;box-shadow:0 -8px 24px rgba(0,0,0,0.15)}
.add-shelf header{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem}
.add-shelf input{font-size:16px}

/* transition */
.shelf-slide-enter-active, .shelf-slide-leave-active { transition: transform 250ms ease; }
.shelf-slide-enter-from { transform: translateX(100%); }
.shelf-slide-leave-to { transform: translateX(100%); }
@media (max-width:700px){
	.shelf-slide-enter-from, .shelf-slide-leave-to { transform: translateY(100%); }
}

/* Tab headers for add modal / shelf */
.tab-headers{display:flex;border-bottom:1px solid #eee;margin-bottom:0.5rem}
.tab-headers .tab-link{flex:1;padding:0.75rem 0;text-align:center;background:transparent;border:0;cursor:pointer;font-weight:600;border-radius:8px 8px 0 0}
.tab-headers .tab-link.active{background:linear-gradient(180deg, rgba(37,99,235,0.08), rgba(37,99,235,0.03));color:var(--accent)}
.tab-headers .tab-link:focus{outline:2px solid rgba(37,99,235,0.18)}
.modal-tabs{margin-bottom:0.75rem}
.search-placeholder{color:var(--muted);padding:1rem}

/* Search row and result card styles */
.search-row{display:flex;align-items:center;gap:12px;padding:12px}
.search-input{flex:1;padding:14px;border-radius:12px;border:1px solid #ddd;min-height:48px;font-size:16px}
.search-btn{min-width:110px;padding:12px 18px;border-radius:12px;background:var(--accent);color:#fff;border:none}
.shelf-close{background:transparent;border:none;color:var(--danger);font-weight:700;cursor:pointer}
.shelf-close svg{width:28px;height:28px;display:block}
.shelf-close:hover{opacity:0.9}

/* Top close control wrapper for add-shelf */
.add-shelf-top{display:flex;justify-content:flex-end;padding:8px 12px 0 12px}
.shelf-close.top{background:#fff;border-radius:18px;padding:6px;box-shadow:0 6px 12px rgba(0,0,0,0.08);border:1px solid #f0f0f0}
.search-feedback{padding:0 12px 12px 12px}
.search-card{background:#f8fafc;border-radius:12px;padding:16px;display:flex;gap:16px;align-items:center;min-height:120px;box-shadow:0 6px 12px rgba(0,0,0,0.04)}
.search-card .cover{width:90px;height:120px;background:#f0f0f0;border-radius:6px;display:flex;align-items:center;justify-content:center;border:1px solid #eee}
.search-card .meta{flex:1}
.search-card .title{font-weight:600;font-size:18px;margin-bottom:6px}
.search-card .author{color:#555;margin-bottom:6px}
.search-card .genre{color:#777;margin-bottom:10px}
.search-card .actions{display:flex;gap:8px}

/* placeholder card when no result yet */
.search-card.empty{opacity:0.6}
